(this["webpackJsonpreact-material-dashboard"]=this["webpackJsonpreact-material-dashboard"]||[]).push([[0],{552:function(e,t,a){"use strict";a.r(t);var n=a(99),r=a.n(n),i=a(38);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(419);var c=a(14),s=a(695),o=a(350),l=a(67),d=Object(l.a)((function(){return Object(o.a)({"@global":{"*":{boxSizing:"border-box",margin:0,padding:0},html:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",height:"100%",width:"100%"},body:{backgroundColor:"#f4f6f8",height:"100%",width:"100%"},a:{textDecoration:"none"},"#root":{height:"100%",width:"100%"}}})})),j=function(){return d(),null},u=a(154);u.Chart.helpers.extend(u.Chart.elements.Rectangle.prototype,{draw:function(){var e,t,a,n,r,i,c,s,o=this._chart.ctx,l=this._view,d=l.borderWidth,j=this._chart.config.options.cornerRadius;if(j<0&&(j=0),"undefined"===typeof j&&(j=0),l.horizontal?(e=l.base,t=l.x,a=l.y-l.height/2,n=l.y+l.height/2,r=t>e?1:-1,i=1,c=l.borderSkipped||"left"):(e=l.x-l.width/2,t=l.x+l.width/2,a=l.y,r=1,i=(n=l.base)>a?1:-1,c=l.borderSkipped||"bottom"),d){var u=Math.min(Math.abs(e-t),Math.abs(a-n)),b=(d=d>u?u:d)/2,h=e+("left"!==c?b*r:0),x=t+("right"!==c?-b*r:0),m=a+("top"!==c?b*i:0),O=n+("bottom"!==c?-b*i:0);h!==x&&(a=m,n=O),m!==O&&(e=h,t=x)}o.beginPath(),o.fillStyle=l.backgroundColor,o.strokeStyle=l.borderColor,o.lineWidth=d;var p=[[e,n],[e,a],[t,a],[t,n]],g=["bottom","left","top","right"].indexOf(c,0);function f(e){return p[(g+e)%4]}-1===g&&(g=0);var v=f(0);o.moveTo(v[0],v[1]);for(var y=1;y<4;y+=1){v=f(y);var w=y+1;4===w&&(w=0);var S=p[2][0]-p[1][0],C=p[0][1]-p[1][1],_=p[1][0],B=p[1][1];if((s=j)>Math.abs(C)/2&&(s=Math.floor(Math.abs(C)/2)),s>Math.abs(S)/2&&(s=Math.floor(Math.abs(S)/2)),C<0){var k=_,P=_+S,T=B+C,N=B+C,q=_,W=_+S,A=B,F=B;o.moveTo(q+s,A),o.lineTo(W-s,F),o.quadraticCurveTo(W,F,W,F-s),o.lineTo(P,N+s),o.quadraticCurveTo(P,N,P-s,N),o.lineTo(k+s,T),o.quadraticCurveTo(k,T,k,T+s),o.lineTo(q,A-s),o.quadraticCurveTo(q,A,q+s,A)}else if(S<0){var z=_+S,R=_,E=B,L=B,D=_+S,I=_,H=B+C,M=B+C;o.moveTo(D+s,H),o.lineTo(I-s,M),o.quadraticCurveTo(I,M,I,M-s),o.lineTo(R,L+s),o.quadraticCurveTo(R,L,R-s,L),o.lineTo(z+s,E),o.quadraticCurveTo(z,E,z,E+s),o.lineTo(D,H-s),o.quadraticCurveTo(D,H,D+s,H)}else o.moveTo(_+s,B),o.lineTo(_+S-s,B),o.quadraticCurveTo(_+S,B,_+S,B+s),o.lineTo(_+S,B+C-s),o.quadraticCurveTo(_+S,B+C,_+S-s,B+C),o.lineTo(_+s,B+C),o.quadraticCurveTo(_,B+C,_,B+C-s),o.lineTo(_,B+s),o.quadraticCurveTo(_,B,_+s,B)}o.fill(),d&&o.stroke()}});var b=a(106),h=a(16),x=Object(b.b)({palette:{background:{default:"#F4F6F8",paper:h.a.common.white},primary:{contrastText:"#ffffff",main:"#1c6890"},text:{primary:"#172b4d",secondary:"#6b778c"}},shadows:["none","0 0 0 1px rgba(63,63,68,0.05), 0 1px 2px 0 rgba(63,63,68,0.15)","0 0 1px 0 rgba(0,0,0,0.31), 0 2px 2px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 3px 4px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 6px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 4px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 5px 8px -2px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 12px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 6px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 7px 16px -4px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 8px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 9px 18px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 10px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 11px 20px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 12px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 13px 22px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 14px 24px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 16px 28px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 18px 30px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 20px 32px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 22px 34px -8px rgba(0,0,0,0.25)","0 0 1px 0 rgba(0,0,0,0.31), 0 24px 36px -8px rgba(0,0,0,0.25)"],typography:{h1:{fontWeight:500,fontSize:35,letterSpacing:"-0.24px"},h2:{fontWeight:500,fontSize:29,letterSpacing:"-0.24px"},h3:{fontWeight:500,fontSize:24,letterSpacing:"-0.06px"},h4:{fontWeight:500,fontSize:20,letterSpacing:"-0.06px"},h5:{fontWeight:500,fontSize:16,letterSpacing:"-0.05px"},h6:{fontWeight:500,fontSize:14,letterSpacing:"-0.05px"},overline:{fontWeight:500}}}),m=a(4),O=a(3),p=a(0),g=a.n(p),f=a(7),v=a(12),y=a(32),w=a(563),S=a(564),C=a(565),_=a(554),B=a(139),k=a(195),P=a(383),T=a.n(P),N=a(382),q=a.n(N),W=a(381),A=a.n(W),F=a(1),z=function(e){return Object(F.jsx)("img",Object(v.a)({alt:"Logo",src:"/static/logo.svg"},e))},R=["onMobileNavOpen"],E=function(e){var t=e.onMobileNavOpen,a=Object(y.a)(e,R),n=Object(p.useState)([]),r=Object(m.a)(n,1)[0],s=Object(c.h)();return Object(F.jsx)(w.a,Object(v.a)(Object(v.a)({elevation:0},a),{},{children:Object(F.jsxs)(S.a,{children:[Object(F.jsx)(i.b,{to:"/",children:Object(F.jsx)(z,{width:"120px"})}),Object(F.jsx)(C.a,{sx:{flexGrow:1}}),Object(F.jsxs)(_.a,{lgDown:!0,children:[Object(F.jsx)(B.a,{color:"inherit",onClick:function(){return s("/app/settings")},children:Object(F.jsx)(k.a,{badgeContent:r.length,color:"primary",variant:"dot",children:Object(F.jsx)(A.a,{})})}),Object(F.jsx)(B.a,{color:"inherit",onClick:function(){localStorage.clear(),s("/"),window.location.reload()},children:Object(F.jsx)(q.a,{})})]}),Object(F.jsx)(_.a,{lgUp:!0,children:Object(F.jsx)(B.a,{color:"inherit",onClick:t,children:Object(F.jsx)(T.a,{})})})]})}))},L=a(567),D=a(104),I=a(568),H=a(685),M=a(686),U=a(687),V=a(688),J=a(689),G=a(690),Y=a(558),K=["href","icon","title"],Q=function(e){var t=e.href,a=e.icon,n=e.title,r=Object(y.a)(e,K),s=Object(c.g)(),o=!!t&&!!Object(c.d)({path:t,end:!1},s.pathname);return Object(F.jsx)(Y.a,Object(v.a)(Object(v.a)({disableGutters:!0,sx:{display:"flex",py:0}},r),{},{children:Object(F.jsxs)(D.a,{component:i.c,sx:Object(v.a)(Object(v.a)({color:"text.secondary",fontWeight:"medium",justifyContent:"flex-start",letterSpacing:0,py:1.25,textTransform:"none",width:"100%"},o&&{color:"primary.main"}),{},{"& svg":{mr:1}}),to:t,children:[a&&Object(F.jsx)(a,{size:"20"}),Object(F.jsx)("span",{children:n})]})}))},$=[{href:"/app/dashboard",icon:H.a,title:"Dashboard"},{href:"/app/requests",icon:M.a,title:"Requests"},{href:"/app/users",icon:U.a,title:"Users"},{href:"/app/service-providers",icon:V.a,title:"Service Providers"},{href:"/app/ambulances",icon:V.a,title:"Ambulances"},{href:"/app/businesses",icon:J.a,title:"Pharmacy/Insurance"}],Z=function(e){var t=e.onMobileClose,a=e.openMobile,n=Object(c.g)();Object(p.useEffect)((function(){a&&t&&t()}),[n.pathname]);var r=Object(F.jsxs)(C.a,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[Object(F.jsx)(C.a,{sx:{p:2},children:Object(F.jsxs)(L.a,{children:[$.map((function(e){return Object(F.jsx)(Q,{href:e.href,title:e.title,icon:e.icon},e.title)})),Object(F.jsx)(D.a,{sx:{color:"text.secondary",fontWeight:"medium",justifyContent:"flex-start",letterSpacing:0,py:1.25,textTransform:"none",width:"100%","& svg":{mr:1}},children:Object(F.jsxs)("a",{href:"https://blog.daktarinyumbani.or.tz/wp-admin",target:"_blank",rel:"noreferrer",children:[Object(F.jsx)(G.a,{}),Object(F.jsx)("span",{children:"Blog"})]})})]})}),Object(F.jsx)(C.a,{sx:{flexGrow:1}})]});return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(_.a,{lgUp:!0,children:Object(F.jsx)(I.a,{anchor:"left",onClose:t,open:a,variant:"temporary",PaperProps:{sx:{width:256}},children:r})}),Object(F.jsx)(_.a,{lgDown:!0,children:Object(F.jsx)(I.a,{anchor:"left",open:!0,variant:"persistent",PaperProps:{sx:{width:256,top:64,height:"calc(100% - 64px)"}},children:r})})]})};Z.defaultProps={onMobileClose:function(){},openMobile:!1};var X=Z,ee=Object(f.a)("div")((function(e){return{backgroundColor:e.theme.palette.background.default,display:"flex",height:"100%",overflow:"hidden",width:"100%"}})),te=Object(f.a)("div")((function(e){var t=e.theme;return Object(O.a)({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64},t.breakpoints.up("lg"),{paddingLeft:256})})),ae=Object(f.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),ne=Object(f.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"}),re=function(){var e=Object(p.useState)(!1),t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(F.jsxs)(ee,{children:[Object(F.jsx)(E,{onMobileNavOpen:function(){return n(!0)}}),Object(F.jsx)(X,{onMobileClose:function(){return n(!1)},openMobile:a}),Object(F.jsx)(te,{children:Object(F.jsx)(ae,{children:Object(F.jsx)(ne,{children:Object(F.jsx)(c.b,{})})})})]})},ie=function(e){return Object(F.jsx)(w.a,Object(v.a)(Object(v.a)({elevation:0},e),{},{children:Object(F.jsx)(S.a,{sx:{height:64},children:Object(F.jsx)(i.b,{to:"/",children:Object(F.jsx)(z,{})})})}))},ce=Object(f.a)("div")((function(e){return{backgroundColor:e.theme.palette.background.paper,display:"flex",height:"100%",overflow:"hidden",width:"100%"}})),se=Object(f.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden",paddingTop:64}),oe=Object(f.a)("div")({display:"flex",flex:"1 1 auto",overflow:"hidden"}),le=Object(f.a)("div")({flex:"1 1 auto",height:"100%",overflow:"auto"}),de=function(){return Object(F.jsxs)(ce,{children:[Object(F.jsx)(ie,{}),Object(F.jsx)(se,{children:Object(F.jsx)(oe,{children:Object(F.jsx)(le,{children:Object(F.jsx)(c.b,{})})})})]})},je=a(21),ue=a(578),be=a(561),he=a(50),xe=a.n(he),me=a(569),Oe=a(570),pe=a(560),ge=a(571),fe=a(521),ve=a(572),ye="/static/images/avatars/avatar_6.png",we="Los Angeles",Se="USA",Ce="Katarina Smith",_e="GTM-7",Be=function(e){return Object(F.jsxs)(me.a,Object(v.a)(Object(v.a)({},e),{},{children:[Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(C.a,{sx:{alignItems:"center",display:"flex",flexDirection:"column"},children:[Object(F.jsx)(pe.a,{src:ye,sx:{height:100,width:100}}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:Ce}),Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"".concat(we," ").concat(Se)}),Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"".concat(xe()().format("hh:mm A")," ").concat(_e)})]})}),Object(F.jsx)(fe.a,{}),Object(F.jsx)(ve.a,{children:Object(F.jsx)(D.a,{color:"primary",fullWidth:!0,variant:"text",children:"Upload picture"})})]}))},ke=a(573),Pe=a(196),Te=[{value:"alabama",label:"Alabama"},{value:"new-york",label:"New York"},{value:"san-francisco",label:"San Francisco"}],Ne=function(e){var t=Object(p.useState)({firstName:"Katarina",lastName:"Smith",email:"demo@devias.io",phone:"",state:"Alabama",country:"USA"}),a=Object(m.a)(t,2),n=a[0],r=a[1],i=function(e){r(Object(v.a)(Object(v.a)({},n),{},Object(O.a)({},e.target.name,e.target.value)))};return Object(F.jsx)("form",Object(v.a)(Object(v.a)({autoComplete:"off",noValidate:!0},e),{},{children:Object(F.jsxs)(me.a,{children:[Object(F.jsx)(ke.a,{subheader:"The information can be edited",title:"Profile"}),Object(F.jsx)(fe.a,{}),Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(be.a,{container:!0,spacing:3,children:[Object(F.jsx)(be.a,{item:!0,md:6,xs:12,children:Object(F.jsx)(Pe.a,{fullWidth:!0,helperText:"Please specify the first name",label:"First name",name:"firstName",onChange:i,required:!0,value:n.firstName,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,md:6,xs:12,children:Object(F.jsx)(Pe.a,{fullWidth:!0,label:"Last name",name:"lastName",onChange:i,required:!0,value:n.lastName,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,md:6,xs:12,children:Object(F.jsx)(Pe.a,{fullWidth:!0,label:"Email Address",name:"email",onChange:i,required:!0,value:n.email,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,md:6,xs:12,children:Object(F.jsx)(Pe.a,{fullWidth:!0,label:"Phone Number",name:"phone",onChange:i,type:"number",value:n.phone,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,md:6,xs:12,children:Object(F.jsx)(Pe.a,{fullWidth:!0,label:"Country",name:"country",onChange:i,required:!0,value:n.country,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,md:6,xs:12,children:Object(F.jsx)(Pe.a,{fullWidth:!0,label:"Select State",name:"state",onChange:i,required:!0,select:!0,SelectProps:{native:!0},value:n.state,variant:"outlined",children:Te.map((function(e){return Object(F.jsx)("option",{value:e.value,children:e.label},e.value)}))})})]})}),Object(F.jsx)(fe.a,{}),Object(F.jsx)(C.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:Object(F.jsx)(D.a,{color:"primary",variant:"contained",children:"Save details"})})]})}))},qe=function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Account | Daktari Nyumbani"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsx)(ue.a,{maxWidth:"lg",children:Object(F.jsxs)(be.a,{container:!0,spacing:3,children:[Object(F.jsx)(be.a,{item:!0,lg:4,md:6,xs:12,children:Object(F.jsx)(Be,{})}),Object(F.jsx)(be.a,{item:!0,lg:8,md:6,xs:12,children:Object(F.jsx)(Ne,{})})]})})})]})},We=a(159),Ae=a(66),Fe=a(116),ze=a.n(Fe),Re=a(79),Ee=a(81),Le=a(388),De=a.n(Le),Ie=function(e){var t=e.count;return Object(F.jsx)(me.a,{sx:{height:"100%"},children:Object(F.jsxs)(Oe.a,{children:[Object(F.jsxs)(be.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"},children:[Object(F.jsxs)(be.a,{item:!0,children:[Object(F.jsx)(ge.a,{color:"textSecondary",gutterBottom:!0,variant:"h6",children:"DOCTORS"}),Object(F.jsx)(ge.a,{color:"textPrimary",variant:"h3",children:t})]}),Object(F.jsx)(be.a,{item:!0,children:Object(F.jsx)(pe.a,{sx:{backgroundColor:Re.a[600],height:56,width:56},children:Object(F.jsx)(De.a,{})})})]}),Object(F.jsxs)(C.a,{sx:{pt:2,display:"flex",alignItems:"center"},children:[Object(F.jsx)(ze.a,{sx:{color:Ee.a[900]}}),Object(F.jsx)(ge.a,{color:"textSecondary",variant:"caption",children:"All time"})]})]})})},He=a(25),Me=function(e){var t=e.serviceRequestsTrend,a=e.ambulanceRequestsTrend,n=e.interval,r=Object(He.a)(),i=[],c=[],s=[];t.map((function(e){i.push(e.date),c.push(e.count)})),a.map((function(e){s.push(e.count)}));var o={datasets:[{backgroundColor:h.a.indigo[500],data:c,label:n},{backgroundColor:h.a.grey[200],data:s,label:n}],labels:i},l={animation:!1,cornerRadius:20,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{barThickness:12,maxBarThickness:10,barPercentage:.5,categoryPercentage:.5,ticks:{fontColor:r.palette.text.secondary},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:r.palette.text.secondary,beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:r.palette.divider,drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:r.palette.divider}}]},tooltips:{backgroundColor:r.palette.background.paper,bodyFontColor:r.palette.text.secondary,borderColor:r.palette.divider,borderWidth:1,enabled:!0,footerFontColor:r.palette.text.secondary,intersect:!1,mode:"index",titleFontColor:r.palette.text.primary}};return Object(F.jsxs)(me.a,{children:[Object(F.jsx)(ke.a,{title:"Latest Requests"}),Object(F.jsx)(fe.a,{}),Object(F.jsx)(Oe.a,{children:Object(F.jsx)(C.a,{sx:{height:400,position:"relative"},children:Object(F.jsx)(u.Bar,{data:o,options:l})})}),Object(F.jsx)(fe.a,{})]})},Ue=a(101),Ve=a(389),Je=a.n(Ve),Ge=function(e){var t=e.count,a=e.interval;return Object(F.jsx)(me.a,{sx:{height:"100%"},children:Object(F.jsxs)(Oe.a,{children:[Object(F.jsxs)(be.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"},children:[Object(F.jsxs)(be.a,{item:!0,children:[Object(F.jsx)(ge.a,{color:"textSecondary",gutterBottom:!0,variant:"h6",children:"TOTAL REQUESTS"}),Object(F.jsx)(ge.a,{color:"textPrimary",variant:"h3",children:t})]}),Object(F.jsx)(be.a,{item:!0,children:Object(F.jsx)(pe.a,{sx:{backgroundColor:Ue.a[600],height:56,width:56},children:Object(F.jsx)(Je.a,{})})})]}),Object(F.jsx)(C.a,{sx:{alignItems:"center",display:"flex",pt:2},children:Object(F.jsx)(ge.a,{color:"textSecondary",variant:"caption",children:a})})]})})},Ye=a(390),Ke=a.n(Ye),Qe=function(e){var t=e.count;return Object(F.jsx)(me.a,{children:Object(F.jsxs)(Oe.a,{children:[Object(F.jsxs)(be.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"},children:[Object(F.jsxs)(be.a,{item:!0,children:[Object(F.jsx)(ge.a,{color:"textSecondary",gutterBottom:!0,variant:"h6",children:"TOTAL USERS"}),Object(F.jsx)(ge.a,{color:"textPrimary",variant:"h3",children:t})]}),Object(F.jsx)(be.a,{item:!0,children:Object(F.jsx)(pe.a,{sx:{backgroundColor:Ee.a[600],height:56,width:56},children:Object(F.jsx)(Ke.a,{})})})]}),Object(F.jsxs)(C.a,{sx:{alignItems:"center",display:"flex",pt:2},children:[Object(F.jsx)(ze.a,{sx:{color:Ee.a[900]}}),Object(F.jsx)(ge.a,{color:"textSecondary",variant:"caption",children:"All time"})]})]})})},$e=a(366),Ze=a(391),Xe=a.n(Ze),et=function(e){var t=e.count;return Object(F.jsx)(me.a,{sx:{height:"100%"},children:Object(F.jsxs)(Oe.a,{children:[Object(F.jsxs)(be.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"},children:[Object(F.jsxs)(be.a,{item:!0,children:[Object(F.jsx)(ge.a,{color:"textSecondary",gutterBottom:!0,variant:"h6",children:"AMBULANCES"}),Object(F.jsx)(ge.a,{color:"textPrimary",variant:"h3",children:t})]}),Object(F.jsx)(be.a,{item:!0,children:Object(F.jsx)(pe.a,{sx:{backgroundColor:$e.a[600],height:56,width:56},children:Object(F.jsx)(Xe.a,{})})})]}),Object(F.jsxs)(C.a,{sx:{alignItems:"center",display:"flex",pt:2},children:[Object(F.jsx)(ze.a,{sx:{color:Ee.a[900]}}),Object(F.jsx)(ge.a,{color:"textSecondary",variant:"caption",children:"All time"})]})]})})},tt=a(27),at=a.n(tt),nt=a(43),rt="https://dev-api.daktarinyumbani.or.tz/api/v1/admin/",it={Accept:"application/json","Content-Type":"application/json"};function ct(e){return st.apply(this,arguments)}function st(){return(st=Object(nt.a)(at.a.mark((function e(t){var a,n,r;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),n=JSON.parse(a),r=rt+t,it.Authorization="Bearer ".concat(n.token.plainTextToken),e.abrupt("return",fetch(r,{method:"GET",headers:it}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(){return(ot=Object(nt.a)(at.a.mark((function e(t,a){var n,r,i,c,s=arguments;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:"POST",r=localStorage.getItem("token"),i=JSON.parse(r),c=rt+t,it.Authorization="Bearer ".concat(i.token.plainTextToken),e.abrupt("return",fetch(c,{method:n,headers:it,body:a}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lt=function(){var e=Object(p.useState)(),t=Object(m.a)(e,2),a=t[0],n=t[1],r=Object(p.useState)("day"),i=Object(m.a)(r,2),c=i[0],s=i[1],o=Object(p.useState)(xe()().subtract("30","days").format()),l=Object(m.a)(o,2),d=l[0],j=l[1],u=Object(p.useState)({name:"30 days",value:"30",unit:"days"}),b=Object(m.a)(u,2),h=b[0],x=b[1],O=[{name:"Today",value:"24",unit:"hours"},{name:"Last 7 days",value:"7",unit:"days"},{name:"30 days",value:"30",unit:"days"},{name:"3 months",value:"3",unit:"months"},{name:"6 months",value:"6",unit:"months"},{name:"1 year",value:"1",unit:"year"}];function g(){var e=JSON.stringify({from:d,to:xe()().format(),unit:c});n(null),function(e,t){return ot.apply(this,arguments)}("reports/summary",e).then((function(e){return e.json()})).then((function(e){e.status?n(e.data.summary):console.log("bad status returned for summary")})).catch((function(e){console.error(e)}))}return Object(p.useEffect)((function(){g()}),[d]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Dashboard | Daktari Nyumbani"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsx)(ue.a,{maxWidth:!1,children:a&&Object(F.jsxs)(be.a,{container:!0,spacing:3,children:[Object(F.jsx)(be.a,{item:!0,lg:12,sm:12,xl:12,xs:12,children:Object(F.jsx)(We.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:h.value,onChange:function(e){var t=e.target.value,a=O.filter((function(e){return e.value===t}));a.length&&(a=a[0],x(a),"Today"===a.name?s("hour"):s("day"),"Today"===a.name?j(xe()().startOf("day")):j(xe()().subtract(a.value,a.unit).format()))},children:O.map((function(e){return Object(F.jsx)(Ae.a,{value:e.value,children:e.name})}))})}),Object(F.jsx)(be.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(F.jsx)(Ie,{count:a.serviceProvidersCount})}),Object(F.jsx)(be.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(F.jsx)(et,{count:a.ambulancesCount})}),Object(F.jsx)(be.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(F.jsx)(Qe,{count:a.usersCount})}),Object(F.jsx)(be.a,{item:!0,lg:3,sm:6,xl:3,xs:12,children:Object(F.jsx)(Ge,{count:a.requestsCount,interval:h.name})}),Object(F.jsx)(be.a,{item:!0,lg:12,md:12,xl:12,xs:12,children:Object(F.jsx)(Me,{serviceRequestsTrend:a.serviceRequestsTrend,ambulanceRequestsTrend:a.ambulanceRequestsTrend,interval:h.name})})]})})})]})},dt=a(18),jt=a(48),ut=a(29),bt=a.n(ut),ht=function(e){var t=e.setToken,a=e.setUser,n=Object(p.useState)(""),r=Object(m.a)(n,2),i=r[0],c=r[1];return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Login | Daktari Nyumbani"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(F.jsx)(ue.a,{maxWidth:"sm",children:Object(F.jsx)(jt.a,{initialValues:{email:"",password:""},validationSchema:dt.b().shape({email:dt.c().email("Must be a valid email").max(255).required("Email is required"),password:dt.c().max(255).required("Password is required")}),onSubmit:function(){var e=Object(nt.a)(at.a.mark((function e(n){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,500)}));case 2:bt.a.get("".concat("https://dev-api.daktarinyumbani.or.tz","/sanctum/csrf-cookie")).then((function(){bt.a.post("".concat("https://dev-api.daktarinyumbani.or.tz/api/v1/admin/","auth/login"),n,{responseType:"application/json"}).then((function(e){console.log(e),e.status?e.data.status?(console.log("Log in success."),t(e.data.user),a(e.data.user),window.location.reload(!1)):(c(e.data.message),console.log(i)):c("Something went wrong. Please try again.")})).catch((function(e){console.error(e),c("Something went wrong. Please try again.")}))}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,r=e.handleSubmit,c=e.isSubmitting,s=e.touched,o=e.values;return Object(F.jsxs)("form",{onSubmit:r,children:[Object(F.jsx)(C.a,{sx:{mb:3},children:Object(F.jsx)(ge.a,{color:"textPrimary",variant:"h2",children:"Sign in"})}),i&&Object(F.jsx)(C.a,{sx:{mb:3},children:i}),Object(F.jsx)(Pe.a,{error:Boolean(s.email&&t.email),fullWidth:!0,helperText:s.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:a,onChange:n,type:"email",value:o.email,variant:"outlined"}),Object(F.jsx)(Pe.a,{error:Boolean(s.password&&t.password),fullWidth:!0,helperText:s.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:a,onChange:n,type:"password",value:o.password,variant:"outlined"}),Object(F.jsx)(C.a,{sx:{py:2},children:Object(F.jsx)(D.a,{color:"primary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Sign in now"})})]})}})})})]})},xt=function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"404 | Material Kit"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(F.jsxs)(ue.a,{maxWidth:"md",children:[Object(F.jsx)(ge.a,{align:"center",color:"textPrimary",variant:"h1",children:"404: The page you are looking for isn\u2019t here"}),Object(F.jsx)(ge.a,{align:"center",color:"textPrimary",variant:"subtitle2",children:"You either tried some shady route or you came here by mistake. Whichever it is, try using the navigation"}),Object(F.jsx)(C.a,{sx:{textAlign:"center"},children:Object(F.jsx)("img",{alt:"Under development",src:"/static/images/undraw_page_not_found_su7k.svg",style:{marginTop:50,display:"inline-block",maxWidth:"100%",width:560}})})]})})]})},mt=a(580),Ot=a(579),pt=a(256),gt=a(693),ft=function(e){return Object(F.jsxs)(C.a,Object(v.a)(Object(v.a)({},e),{},{children:[Object(F.jsxs)(C.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[Object(F.jsx)(D.a,{children:"Import"}),Object(F.jsx)(D.a,{sx:{mx:1},children:"Export"}),Object(F.jsx)(D.a,{color:"primary",variant:"contained",children:"Add product"})]}),Object(F.jsx)(C.a,{sx:{mt:3},children:Object(F.jsx)(me.a,{children:Object(F.jsx)(Oe.a,{children:Object(F.jsx)(C.a,{sx:{maxWidth:500},children:Object(F.jsx)(Pe.a,{fullWidth:!0,InputProps:{startAdornment:Object(F.jsx)(Ot.a,{position:"start",children:Object(F.jsx)(pt.a,{fontSize:"small",color:"action",children:Object(F.jsx)(gt.a,{})})})},placeholder:"Search product",variant:"outlined"})})})})})]}))},vt=a(396),yt=a.n(vt),wt=a(397),St=a.n(wt),Ct=["product"],_t=function(e){var t=e.product,a=Object(y.a)(e,Ct);return Object(F.jsxs)(me.a,Object(v.a)(Object(v.a)({sx:{display:"flex",flexDirection:"column",height:"100%"}},a),{},{children:[Object(F.jsxs)(Oe.a,{children:[Object(F.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",pb:3},children:Object(F.jsx)(pe.a,{alt:"Product",src:t.media,variant:"square"})}),Object(F.jsx)(ge.a,{align:"center",color:"textPrimary",gutterBottom:!0,variant:"h4",children:t.title}),Object(F.jsx)(ge.a,{align:"center",color:"textPrimary",variant:"body1",children:t.description})]}),Object(F.jsx)(C.a,{sx:{flexGrow:1}}),Object(F.jsx)(fe.a,{}),Object(F.jsx)(C.a,{sx:{p:2},children:Object(F.jsxs)(be.a,{container:!0,spacing:2,sx:{justifyContent:"space-between"},children:[Object(F.jsxs)(be.a,{item:!0,sx:{alignItems:"center",display:"flex"},children:[Object(F.jsx)(yt.a,{color:"action"}),Object(F.jsx)(ge.a,{color:"textSecondary",display:"inline",sx:{pl:1},variant:"body2",children:"Updated 2hr ago"})]}),Object(F.jsxs)(be.a,{item:!0,sx:{alignItems:"center",display:"flex"},children:[Object(F.jsx)(St.a,{color:"action"}),Object(F.jsxs)(ge.a,{color:"textSecondary",display:"inline",sx:{pl:1},variant:"body2",children:[t.totalDownloads," ","Downloads"]})]})]})})]}))},Bt=a(694),kt=[{id:Object(Bt.a)(),createdAt:"27/03/2019",description:"Dropbox is a file hosting service that offers cloud storage, file synchronization, a personal cloud.",media:"/static/images/products/product_1.png",title:"Dropbox",totalDownloads:"594"},{id:Object(Bt.a)(),createdAt:"31/03/2019",description:"Medium is an online publishing platform developed by Evan Williams, and launched in August 2012.",media:"/static/images/products/product_2.png",title:"Medium Corporation",totalDownloads:"625"},{id:Object(Bt.a)(),createdAt:"03/04/2019",description:"Slack is a cloud-based set of team collaboration tools and services, founded by Stewart Butterfield.",media:"/static/images/products/product_3.png",title:"Slack",totalDownloads:"857"},{id:Object(Bt.a)(),createdAt:"04/04/2019",description:"Lyft is an on-demand transportation company based in San Francisco, California.",media:"/static/images/products/product_4.png",title:"Lyft",totalDownloads:"406"},{id:Object(Bt.a)(),createdAt:"04/04/2019",description:"GitHub is a web-based hosting service for version control of code using Git.",media:"/static/images/products/product_5.png",title:"GitHub",totalDownloads:"835"},{id:Object(Bt.a)(),createdAt:"04/04/2019",description:"Squarespace provides software as a service for website building and hosting. Headquartered in NYC.",media:"/static/images/products/product_6.png",title:"Squarespace",totalDownloads:"835"}],Pt=function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Products | Material Kit"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsxs)(ue.a,{maxWidth:!1,children:[Object(F.jsx)(ft,{}),Object(F.jsx)(C.a,{sx:{pt:3},children:Object(F.jsx)(be.a,{container:!0,spacing:3,children:kt.map((function(e){return Object(F.jsx)(be.a,{item:!0,lg:4,md:6,xs:12,children:Object(F.jsx)(_t,{product:e})},e.id)}))})}),Object(F.jsx)(C.a,{sx:{display:"flex",justifyContent:"center",pt:3},children:Object(F.jsx)(mt.a,{color:"primary",count:3,size:"small"})})]})})]})},Tt=a(254),Nt=a(581),qt=a(577),Wt=function(){var e=Object(c.h)();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Register | Material Kit"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"},children:Object(F.jsx)(ue.a,{maxWidth:"sm",children:Object(F.jsx)(jt.a,{initialValues:{email:"",firstName:"",lastName:"",password:"",policy:!1},validationSchema:dt.b().shape({email:dt.c().email("Must be a valid email").max(255).required("Email is required"),firstName:dt.c().max(255).required("First name is required"),lastName:dt.c().max(255).required("Last name is required"),password:dt.c().max(255).required("password is required"),policy:dt.a().oneOf([!0],"This field must be checked")}),onSubmit:function(){e("/app/dashboard",{replace:!0})},children:function(e){var t=e.errors,a=e.handleBlur,n=e.handleChange,r=e.handleSubmit,c=e.isSubmitting,s=e.touched,o=e.values;return Object(F.jsxs)("form",{onSubmit:r,children:[Object(F.jsxs)(C.a,{sx:{mb:3},children:[Object(F.jsx)(ge.a,{color:"textPrimary",variant:"h2",children:"Create new account"}),Object(F.jsx)(ge.a,{color:"textSecondary",gutterBottom:!0,variant:"body2",children:"Use your email to create new account"})]}),Object(F.jsx)(Pe.a,{error:Boolean(s.firstName&&t.firstName),fullWidth:!0,helperText:s.firstName&&t.firstName,label:"First name",margin:"normal",name:"firstName",onBlur:a,onChange:n,value:o.firstName,variant:"outlined"}),Object(F.jsx)(Pe.a,{error:Boolean(s.lastName&&t.lastName),fullWidth:!0,helperText:s.lastName&&t.lastName,label:"Last name",margin:"normal",name:"lastName",onBlur:a,onChange:n,value:o.lastName,variant:"outlined"}),Object(F.jsx)(Pe.a,{error:Boolean(s.email&&t.email),fullWidth:!0,helperText:s.email&&t.email,label:"Email Address",margin:"normal",name:"email",onBlur:a,onChange:n,type:"email",value:o.email,variant:"outlined"}),Object(F.jsx)(Pe.a,{error:Boolean(s.password&&t.password),fullWidth:!0,helperText:s.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:a,onChange:n,type:"password",value:o.password,variant:"outlined"}),Object(F.jsxs)(C.a,{sx:{alignItems:"center",display:"flex",ml:-1},children:[Object(F.jsx)(Tt.a,{checked:o.policy,name:"policy",onChange:n}),Object(F.jsxs)(ge.a,{color:"textSecondary",variant:"body1",children:["I have read the"," ",Object(F.jsx)(Nt.a,{color:"primary",component:i.b,to:"#",underline:"always",variant:"h6",children:"Terms and Conditions"})]})]}),Boolean(s.policy&&t.policy)&&Object(F.jsx)(qt.a,{error:!0,children:t.policy}),Object(F.jsx)(C.a,{sx:{py:2},children:Object(F.jsx)(D.a,{color:"primary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Sign up now"})}),Object(F.jsxs)(ge.a,{color:"textSecondary",variant:"body1",children:["Have an account?"," ",Object(F.jsx)(Nt.a,{component:i.b,to:"/login",variant:"h6",children:"Sign in"})]})]})}})})})]})},At=function(e){var t=Object(p.useState)({password:"",confirm:""}),a=Object(m.a)(t,2),n=a[0],r=a[1],i=function(e){r(Object(v.a)(Object(v.a)({},n),{},Object(O.a)({},e.target.name,e.target.value)))};return Object(F.jsx)("form",Object(v.a)(Object(v.a)({},e),{},{children:Object(F.jsxs)(me.a,{children:[Object(F.jsx)(ke.a,{subheader:"Update password",title:"Password"}),Object(F.jsx)(fe.a,{}),Object(F.jsxs)(Oe.a,{children:[Object(F.jsx)(Pe.a,{fullWidth:!0,label:"Password",margin:"normal",name:"password",onChange:i,type:"password",value:n.password,variant:"outlined"}),Object(F.jsx)(Pe.a,{fullWidth:!0,label:"Confirm password",margin:"normal",name:"confirm",onChange:i,type:"password",value:n.confirm,variant:"outlined"})]}),Object(F.jsx)(fe.a,{}),Object(F.jsx)(C.a,{sx:{display:"flex",justifyContent:"flex-end",p:2},children:Object(F.jsx)(D.a,{color:"primary",variant:"contained",children:"Update"})})]})}))},Ft=function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Settings | Daktari Nyumbani"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsx)(ue.a,{maxWidth:"lg",children:Object(F.jsx)(C.a,{sx:{pt:3},children:Object(F.jsx)(At,{})})})})]})},zt=function(e){var t=Object(c.h)();return Object(F.jsx)(C.a,Object(v.a)(Object(v.a)({},e),{},{children:Object(F.jsx)(C.a,{sx:{mt:3},children:Object(F.jsx)(me.a,{children:Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(C.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:"Ambulances"}),Object(F.jsx)(D.a,{color:"primary",variant:"contained",onClick:function(){return t("create")},children:"Add ambulance provider"})]})})})})}))},Rt=a(47),Et=a.n(Rt),Lt=a(23),Dt=["providers"],It=function(e){var t=e.providers,a=Object(y.a)(e,Dt),n=Object(c.h)();return Object(F.jsx)(me.a,Object(v.a)(Object(v.a)({},a),{},{children:Object(F.jsx)(Et.a,{children:Object(F.jsx)(C.a,{sx:{minWidth:1050},children:t&&Object(F.jsx)(Lt.a,{autoHeight:!0,rows:t,columns:[{field:"name",headerName:"Contact Name",width:130,valueFormatter:function(e){return"".concat(e.row.user.first_name," ").concat(e.row.user.last_name)}},{field:"company_name",headerName:"Company Name",width:150},{field:"phone",headerName:"Phone",width:150,valueFormatter:function(e){return e.row.user.phone}},{field:"reg_number",headerName:"Registration Number",width:150},{field:"board_status",headerName:"Board status",width:150,valueFormatter:function(e){return"registered"===e.row.board_status?"Not Allowed":"Allowed"}},{field:"current_hospital",headerName:"Current Hospital",width:150},{field:"location",headerName:"Location",width:150,valueFormatter:function(e){return e.row.address}},{field:"created_at",headerName:"Created At",width:150},{field:"active",headerName:"Active",width:150,valueFormatter:function(e){return e.row.active?"Yes":"No"}}],onRowClick:function(e){n("".concat(e.row.id.toString(),"/details"))},components:{Toolbar:function(){return Object(F.jsx)(Lt.b,{children:Object(F.jsx)(Lt.c,{})})}}})})})}))},Ht=function(){var e=Object(p.useState)([]),t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(p.useEffect)((function(){ct("ambulances").then((function(e){return e.json()})).then((function(e){e.status?n(e.data.ambulances):console.log("bad status returned for ambulances")})).catch((function(e){console.error(e)}))}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Service Providers"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsxs)(ue.a,{maxWidth:!1,children:[Object(F.jsx)(zt,{}),Object(F.jsx)(C.a,{sx:{pt:3},children:Object(F.jsx)(It,{providers:a})})]})})]})},Mt=a(255),Ut=a(63),Vt=a.n(Ut),Jt=a(126),Gt=a.n(Jt),Yt=a(95),Kt=a.n(Yt),Qt=(a(177),function(){var e=Object(c.h)(),t=Object(p.useState)(""),a=Object(m.a)(t,2),n=a[0],r=a[1],i=Object(p.useState)(""),s=Object(m.a)(i,2),o=s[0],l=s[1],d=Object(p.useState)(""),j=Object(m.a)(d,2),u=j[0],b=j[1],h=Object(p.useState)([]),x=Object(m.a)(h,2),O=(x[0],x[1],Object(p.useState)({first_name:"",last_name:"",company_name:"",phone:"",password:"000000000",qualification:"",reg_number:"",board_status:"",current_hospital:"",latitude:"",longitude:"",address:"",bio:"",cost:0})),g=Object(m.a)(O,2),f=g[0],y=g[1],w=Object(c.i)().id,S=Object(p.useState)(null),_=Object(m.a)(S,2),B=(_[0],_[1]),k=Object(p.useState)("create"),P=Object(m.a)(k,2),T=P[0],N=P[1];Object(p.useEffect)((function(){w&&ct("ambulances/".concat(w)).then((function(e){return e.json()})).then((function(e){if(e.status){B(e.data.ambulance),N("edit"),l(e.data.ambulance.address),b({lat:e.data.ambulance.latitude,lng:e.data.ambulance.longitude});var t=e.data.ambulance;y({first_name:t.user.first_name,last_name:t.user.last_name,company_name:t.company_name,phone:t.user.phone,qualification:t.qualification,reg_number:t.reg_number,board_status:t.board_status,current_hospital:t.current_hospital,latitude:t.latitude,longitude:t.longitude,address:t.address,bio:t.bio,cost:t.cost})}else console.log("bad status returned for ambulance")})).catch((function(e){console.error(e)}))}),[w]);var q=function(e){l(e)},W=function(e){l(e),Object(Ut.geocodeByAddress)(e).then((function(e){return Object(Ut.getLatLng)(e[0])})).then((function(e){return b(e)})).catch((function(e){return console.error("Error",e)}))};function A(t){bt.a.post("".concat("https://dev-api.daktarinyumbani.or.tz/api/v1/admin/","ambulances"),t,{responseType:"application/json"}).then((function(t){console.log(t),t.status?t.data.status?(e("/app/ambulances"),console.log("Log in success.")):(r(t.data.message),console.log(n)):r("Something went wrong. Please try again.")})).catch((function(e){console.error(e),r("Something went wrong. Please try again.")}))}function z(t){bt.a.post("".concat("https://dev-api.daktarinyumbani.or.tz/api/v1/admin/","ambulances/").concat(w),t,{responseType:"application/json"}).then((function(t){console.log(t),t.status?t.data.status?(e("/app/ambulances/".concat(w,"/details")),console.log("Log in success.")):(r(t.data.message),console.log(n)):r("Something went wrong updating details. Please try again.")})).catch((function(e){console.error(e),r("Something went wrong. Please try again.")}))}return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Create Ambulance"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsx)(ue.a,{maxWidth:!1,children:Object(F.jsx)(be.a,{container:!0,spacing:3,children:Object(F.jsx)(be.a,{item:!0,xs:12,children:Object(F.jsx)(Mt.a,{style:{padding:30},children:Object(F.jsx)(jt.a,{enableReinitialize:!0,initialValues:f,validationSchema:dt.b().shape({first_name:dt.c().max(64).required("First name is required"),last_name:dt.c().required("Last name is required"),company_name:dt.c().required("Company name is required"),phone:dt.c().required("Phone is required"),reg_number:dt.c().max(64).required("Reg. Number is required"),board_status:dt.c().required("Board status is required"),current_hospital:dt.c().max(64).required("Current Hospital is required"),bio:dt.c().required("Bio is required")}),onSubmit:function(){var e=Object(nt.a)(at.a.mark((function e(t){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.address=o,t.latitude=u.lat,t.longitude=u.lng,"edit"===T&&(t._method="PUT"),"edit"===T?z(t):A(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,a=e.handleBlur,r=e.handleChange,i=e.handleSubmit,c=e.setFieldValue,s=e.isSubmitting,l=e.touched,d=e.values;return Object(F.jsxs)("form",{onSubmit:i,children:[Object(F.jsx)(C.a,{sx:{mb:3},children:Object(F.jsx)(ge.a,{color:"textPrimary",variant:"h3",children:"edit"===T?"Update Ambulance":"Register Ambulance"})}),Object(F.jsxs)(be.a,{container:!0,spacing:3,children:[Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsx)(Pe.a,{error:Boolean(l.first_name&&t.first_name),fullWidth:!0,helperText:l.first_name&&t.first_name,label:"First Name",margin:"normal",name:"first_name",onBlur:a,onChange:r,type:"text",value:d.first_name,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsx)(Pe.a,{error:Boolean(l.last_name&&t.last_name),fullWidth:!0,helperText:l.last_name&&t.last_name,label:"Last Name",margin:"normal",name:"last_name",onBlur:a,onChange:r,type:"text",value:d.last_name,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsx)(be.a,{item:!0,paddingTop:2,xs:12,children:Object(F.jsx)(Kt.a,{country:"tz",onlyCountries:["tz"],masks:{tz:"(...) ... - ..."},prefix:"+",countryCodeEditable:!1,value:d.phone,onChange:function(e){console.log(e),c("phone","+".concat(e))}})})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsx)(Pe.a,{error:Boolean(l.company_name&&t.company_name),fullWidth:!0,helperText:l.company_name&&t.company_name,label:"Company Name",margin:"normal",name:"company_name",onBlur:a,onChange:r,type:"text",value:d.company_name,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsx)(Pe.a,{error:Boolean(l.reg_number&&t.reg_number),fullWidth:!0,helperText:l.reg_number&&t.reg_number,label:"Registration Number",margin:"normal",name:"reg_number",onBlur:a,onChange:r,type:"text",value:d.reg_number,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsxs)(Pe.a,{select:!0,error:Boolean(l.board_status&&t.board_status),fullWidth:!0,helperText:l.board_status&&t.board_status,label:"Board Status",margin:"normal",name:"board_status",onBlur:a,onChange:r,type:"text",value:d.board_status,variant:"outlined",children:[Object(F.jsx)(Ae.a,{value:"registered",children:"Not allowed to practice"}),Object(F.jsx)(Ae.a,{value:"allowed",children:"Allowed to practice"})]})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsx)(Pe.a,{error:Boolean(l.current_hospital&&t.current_hospital),fullWidth:!0,helperText:l.current_hospital&&t.current_hospital,label:"Current Hospital",margin:"normal",name:"current_hospital",onBlur:a,onChange:r,type:"text",value:d.current_hospital,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsx)(Pe.a,{error:Boolean(l.cost&&t.cost),fullWidth:!0,helperText:l.cost&&t.cost,label:"Cost",margin:"normal",name:"cost",onBlur:a,onChange:r,type:"text",value:d.cost,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:12,children:Object(F.jsx)(Vt.a,{value:o,onChange:q,onSelect:W,searchOptions:{componentRestrictions:{country:["tza"]}},children:function(e){var t=e.getInputProps,n=e.suggestions,i=e.getSuggestionItemProps,c=e.loading;return Object(F.jsxs)("div",{children:[Object(F.jsx)(Pe.a,Object(v.a)({fullWidth:!0,label:"Search Places...",margin:"normal",name:"location",onBlur:a,onChange:r,type:"text",variant:"outlined"},t())),Object(F.jsxs)("div",{className:"autocomplete-dropdown-container",children:[c&&Object(F.jsx)(ge.a,{variant:"body2",color:"textPrimary",children:"Loading..."}),n.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return Object(F.jsx)("div",Object(v.a)(Object(v.a)({},i(e,{className:t,style:a})),{},{children:Object(F.jsxs)(be.a,{container:!0,alignItems:"center",style:{marginBottom:5,padding:10},children:[Object(F.jsx)(be.a,{item:!0,children:Object(F.jsx)(Gt.a,{style:{marginRight:5}})}),Object(F.jsxs)(be.a,{item:!0,xs:!0,children:[Object(F.jsx)("span",{style:{fontWeight:400},children:Object(F.jsx)(ge.a,{variant:"body1",color:"textPrimary",children:e.formattedSuggestion.mainText})}),Object(F.jsx)(ge.a,{variant:"body2",color:"textSecondary",children:e.description})]})]})}))}))]})]})}})}),Object(F.jsx)(be.a,{item:!0,xs:12,children:Object(F.jsx)(Pe.a,{multiline:!0,rows:2,rowsMax:4,error:Boolean(l.bio&&t.bio),fullWidth:!0,helperText:l.bio&&t.bio,label:"Bio",margin:"bio",name:"bio",onBlur:a,onChange:r,type:"text",value:d.bio,variant:"outlined"})})]}),n&&Object(F.jsx)(C.a,{sx:{mb:3},children:n}),Object(F.jsx)(C.a,{sx:{py:2},children:Object(F.jsx)(D.a,{color:"primary",disabled:s,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"edit"===T?"Update":"Register"})})]})}})})})})})})]})}),$t=function(e){var t=Object(c.i)().id,a=Object(c.h)(),n=Object(p.useState)(null),r=Object(m.a)(n,2),i=r[0],s=r[1];return Object(p.useEffect)((function(){ct("ambulances/".concat(t)).then((function(e){return e.json()})).then((function(e){e.status?s(e.data.ambulance):console.log("bad status returned for ambulance")})).catch((function(e){console.error(e)}))}),[t]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(me.a,Object(v.a)(Object(v.a)({},e),{},{children:Object(F.jsx)(Oe.a,{children:Object(F.jsx)(C.a,{sx:{display:"flex",flexDirection:"column"},children:Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:"Ambulance Provider Details"})})})})),i&&Object(F.jsxs)(me.a,{children:[Object(F.jsx)(Oe.a,{children:Object(F.jsx)(C.a,{sx:{display:"flex",flexDirection:"column"},children:Object(F.jsxs)(ue.a,{maxWidth:!1,children:[Object(F.jsxs)(be.a,{container:!0,spacing:3,children:[Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Name"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h4",children:"".concat(i.user.first_name," ").concat(i.user.last_name)})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Company Name"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h4",children:i.company_name})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Registration Number"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h4",children:i.reg_number})]})]}),Object(F.jsxs)(be.a,{container:!0,paddingTop:4,spacing:3,children:[Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Board Status"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:"allowed"===i.board_status?"Allowed to practice":"Not allowed to practice"})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Current Hospital"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:i.current_hospital})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Availability"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:i.available?"Available":"Not Available"})]})]}),Object(F.jsxs)(be.a,{container:!0,paddingTop:4,spacing:3,children:[Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Cost"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:i.cost})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Address"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:i.address})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Bio"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:i.bio})]})]}),Object(F.jsxs)(be.a,{container:!0,paddingTop:4,spacing:3,children:[Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Created At"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:"".concat(xe()().format("hh:mm A")," ").concat(i.created_at)})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Phone Number"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:i.user.phone})]})]})]})})}),Object(F.jsx)(fe.a,{}),Object(F.jsx)(ve.a,{children:Object(F.jsx)(D.a,{onClick:function(){a("/app/ambulances/".concat(t.toString(),"/edit"))},color:"primary",fullWidth:!0,variant:"text",children:"Edit Ambulance Provider Details"})})]})]})},Zt=function(e){var t=Object(c.h)();return Object(F.jsx)(C.a,Object(v.a)(Object(v.a)({},e),{},{children:Object(F.jsx)(C.a,{sx:{mt:3},children:Object(F.jsx)(me.a,{children:Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(C.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:"Businesses (Pharmacy & Insurance Providers)"}),Object(F.jsx)(D.a,{color:"primary",variant:"contained",onClick:function(){return t("create")},children:"Add Business"})]})})})})}))},Xt=["providers"],ea=function(e){var t=e.providers,a=Object(y.a)(e,Xt),n=Object(c.h)();return Object(F.jsx)(me.a,Object(v.a)(Object(v.a)({},a),{},{children:Object(F.jsx)(Et.a,{children:Object(F.jsx)(C.a,{sx:{minWidth:1050},children:t&&Object(F.jsx)(Lt.a,{autoHeight:!0,rows:t,columns:[{field:"name",headerName:"Business Name",width:200},{field:"phone",headerName:"Phone",width:150},{field:"type",headerName:"Type",width:150},{field:"location",headerName:"Location",width:200,valueFormatter:function(e){return e.row.address}},{field:"created_at",headerName:"Created At",width:200},{field:"active",headerName:"Active",width:150,valueFormatter:function(e){return e.row.active?"Yes":"No"}}],onRowClick:function(e){n("".concat(e.row.id.toString(),"/details"))},components:{Toolbar:function(){return Object(F.jsx)(Lt.b,{children:Object(F.jsx)(Lt.c,{})})}}})})})}))},ta=function(){var e=Object(p.useState)([]),t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(p.useEffect)((function(){ct("businesses").then((function(e){return e.json()})).then((function(e){e.status?n(e.data.businesses):console.log("bad status returned for businesses")})).catch((function(e){console.error(e)}))}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Businesses"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsxs)(ue.a,{maxWidth:!1,children:[Object(F.jsx)(Zt,{}),Object(F.jsx)(C.a,{sx:{pt:3},children:Object(F.jsx)(ea,{providers:a})})]})})]})},aa=function(){var e=Object(c.h)(),t=Object(p.useState)(""),a=Object(m.a)(t,2),n=a[0],r=a[1],i=Object(p.useState)(""),s=Object(m.a)(i,2),o=s[0],l=s[1],d=Object(p.useState)(""),j=Object(m.a)(d,2),u=j[0],b=j[1],h=Object(p.useState)({name:"",phone:"",type:"",latitude:"",longitude:"",address:"",bio:""}),x=Object(m.a)(h,2),O=x[0],g=x[1],f=Object(c.i)().id,y=Object(p.useState)(null),w=Object(m.a)(y,2),S=(w[0],w[1]),_=Object(p.useState)("create"),B=Object(m.a)(_,2),k=B[0],P=B[1];Object(p.useEffect)((function(){f&&ct("businesses/".concat(f)).then((function(e){return e.json()})).then((function(e){if(e.status){S(e.data.business),P("edit"),l(e.data.business.address),b({lat:e.data.business.latitude,lng:e.data.business.longitude});var t=e.data.business;g({name:t.name,phone:t.phone,type:t.type,latitude:t.latitude,longitude:t.longitude,address:t.address,bio:t.bio})}else console.log("bad status returned for businesses")})).catch((function(e){console.error(e)}))}),[f]);var T=function(e){l(e)},N=function(e){l(e),Object(Ut.geocodeByAddress)(e).then((function(e){return Object(Ut.getLatLng)(e[0])})).then((function(e){return b(e)})).catch((function(e){return console.error("Error",e)}))};function q(t){bt.a.post("".concat("https://dev-api.daktarinyumbani.or.tz/api/v1/admin/","businesses"),t,{responseType:"application/json"}).then((function(t){console.log(t),t.status?t.data.status?(e("/app/businesses"),console.log("Log in success.")):(r(t.data.message),console.log(n)):r("Something went wrong. Please try again.")})).catch((function(e){console.error(e),r("Something went wrong. Please try again.")}))}function W(t){bt.a.post("".concat("https://dev-api.daktarinyumbani.or.tz/api/v1/admin/","businesses/").concat(f),t,{responseType:"application/json"}).then((function(t){console.log(t),t.status?t.data.status?(e("/app/businesses/".concat(f,"/details")),console.log("Log in success.")):(r(t.data.message),console.log(n)):r("Something went wrong updating details. Please try again.")})).catch((function(e){console.error(e),r("Something went wrong. Please try again.")}))}return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Create Business"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsx)(ue.a,{maxWidth:!1,children:Object(F.jsx)(be.a,{container:!0,spacing:3,children:Object(F.jsx)(be.a,{item:!0,xs:12,children:Object(F.jsx)(Mt.a,{style:{padding:30},children:Object(F.jsx)(jt.a,{enableReinitialize:!0,initialValues:O,validationSchema:dt.b().shape({name:dt.c().max(64).required("Business name is required"),phone:dt.c().required("Phone is required"),type:dt.c().required("Business Type is required"),bio:dt.c().required("Bio is required")}),onSubmit:function(){var e=Object(nt.a)(at.a.mark((function e(t){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.address=o,t.latitude=u.lat,t.longitude=u.lng,"edit"===k&&(t._method="PUT"),"edit"===k?W(t):q(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,a=e.handleBlur,r=e.handleChange,i=e.handleSubmit,c=e.setFieldValue,s=e.isSubmitting,l=e.touched,d=e.values;return Object(F.jsxs)("form",{onSubmit:i,children:[Object(F.jsx)(C.a,{sx:{mb:3},children:Object(F.jsx)(ge.a,{color:"textPrimary",variant:"h3",children:"edit"===k?"Update Business":"Register Business"})}),Object(F.jsxs)(be.a,{container:!0,spacing:3,children:[Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsxs)(Pe.a,{select:!0,error:Boolean(l.type&&t.type),fullWidth:!0,helperText:l.type&&t.type,label:"Business Type",margin:"normal",name:"type",onBlur:a,onChange:r,type:"text",value:d.type,variant:"outlined",children:[Object(F.jsx)(Ae.a,{value:"pharmacy",children:"Pharmacy"}),Object(F.jsx)(Ae.a,{value:"insurance",children:"Insurance Company"})]})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsx)(Pe.a,{error:Boolean(l.name&&t.name),fullWidth:!0,helperText:l.name&&t.name,label:"Business Name",margin:"normal",name:"name",onBlur:a,onChange:r,type:"text",value:d.name,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsx)(be.a,{item:!0,paddingTop:2,xs:12,children:Object(F.jsx)(Kt.a,{country:"tz",onlyCountries:["tz"],masks:{tz:"(...) ... - ..."},prefix:"+",countryCodeEditable:!1,value:d.phone,onChange:function(e){console.log(e),c("phone","+".concat(e))}})})}),Object(F.jsx)(be.a,{item:!0,xs:12,children:Object(F.jsx)(Vt.a,{value:o,onChange:T,onSelect:N,searchOptions:{componentRestrictions:{country:["tza"]}},children:function(e){var t=e.getInputProps,n=e.suggestions,i=e.getSuggestionItemProps,c=e.loading;return Object(F.jsxs)("div",{children:[Object(F.jsx)(Pe.a,Object(v.a)({fullWidth:!0,label:"Search Places...",margin:"normal",name:"location",onBlur:a,onChange:r,type:"text",variant:"outlined"},t())),Object(F.jsxs)("div",{className:"autocomplete-dropdown-container",children:[c&&Object(F.jsx)(ge.a,{variant:"body2",color:"textPrimary",children:"Loading..."}),n.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return Object(F.jsx)("div",Object(v.a)(Object(v.a)({},i(e,{className:t,style:a})),{},{children:Object(F.jsxs)(be.a,{container:!0,alignItems:"center",style:{marginBottom:5,padding:10},children:[Object(F.jsx)(be.a,{item:!0,children:Object(F.jsx)(Gt.a,{style:{marginRight:5}})}),Object(F.jsxs)(be.a,{item:!0,xs:!0,children:[Object(F.jsx)("span",{style:{fontWeight:400},children:Object(F.jsx)(ge.a,{variant:"body1",color:"textPrimary",children:e.formattedSuggestion.mainText})}),Object(F.jsx)(ge.a,{variant:"body2",color:"textSecondary",children:e.description})]})]})}))}))]})]})}})}),Object(F.jsx)(be.a,{item:!0,xs:12,children:Object(F.jsx)(Pe.a,{multiline:!0,rows:2,rowsMax:4,error:Boolean(l.bio&&t.bio),fullWidth:!0,helperText:l.bio&&t.bio,label:"Bio",margin:"bio",name:"bio",onBlur:a,onChange:r,type:"text",value:d.bio,variant:"outlined"})})]}),n&&Object(F.jsx)(C.a,{sx:{mb:3},children:n}),Object(F.jsx)(C.a,{sx:{py:2},children:Object(F.jsx)(D.a,{color:"primary",disabled:s,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"edit"===k?"Update":"Register"})})]})}})})})})})})]})},na=function(e){var t=Object(c.i)().id,a=Object(c.h)(),n=Object(p.useState)(null),r=Object(m.a)(n,2),i=r[0],s=r[1];return Object(p.useEffect)((function(){ct("businesses/".concat(t)).then((function(e){return e.json()})).then((function(e){e.status?s(e.data.business):console.log("bad status returned for business")})).catch((function(e){console.error(e)}))}),[t]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(me.a,Object(v.a)(Object(v.a)({},e),{},{children:Object(F.jsx)(Oe.a,{children:Object(F.jsx)(C.a,{sx:{display:"flex",flexDirection:"column"},children:Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:"Business Details"})})})})),i&&Object(F.jsxs)(me.a,{children:[Object(F.jsx)(Oe.a,{children:Object(F.jsx)(C.a,{sx:{display:"flex",flexDirection:"column"},children:Object(F.jsxs)(ue.a,{maxWidth:!1,children:[Object(F.jsxs)(be.a,{container:!0,spacing:3,children:[Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Business Name"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h4",children:i.name})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Business Type"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:i.type})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Phone Number"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:i.phone})]})]}),Object(F.jsxs)(be.a,{container:!0,paddingTop:4,spacing:3,children:[Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Address"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:i.address})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Bio"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:i.bio})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Created At"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:"".concat(xe()().format("hh:mm A")," ").concat(i.created_at)})]})]})]})})}),Object(F.jsx)(fe.a,{}),Object(F.jsx)(ve.a,{children:Object(F.jsx)(D.a,{onClick:function(){a("/app/businesses/".concat(t.toString(),"/edit"))},color:"primary",fullWidth:!0,variant:"text",children:"Edit Business Details"})})]})]})},ra=function(e){return Object(F.jsx)(C.a,Object(v.a)(Object(v.a)({},e),{},{children:Object(F.jsx)(C.a,{sx:{mt:3},children:Object(F.jsx)(me.a,{children:Object(F.jsx)(Oe.a,{children:Object(F.jsx)(C.a,{sx:{maxWidth:500},children:Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:"Categories"})})})})})}))},ia=["categories"],ca=function(e){var t=e.categories,a=Object(y.a)(e,ia),n=Object(c.h)();return Object(F.jsx)(me.a,Object(v.a)(Object(v.a)({},a),{},{children:Object(F.jsx)(Et.a,{children:Object(F.jsx)(C.a,{sx:{minWidth:1050},children:Object(F.jsx)(Lt.a,{autoHeight:!0,rows:t,columns:[{field:"name",headerName:"Name",width:150}],checkboxSelection:!0,disableSelectionOnClick:!0,components:{Toolbar:function(){return Object(F.jsx)(Lt.b,{children:Object(F.jsx)(Lt.c,{})})}},onRowClick:function(e,t){console.log(e.row.id),n(e.row.id.toString()),t.defaultMuiPrevented=!0}})})})}))},sa=function(){var e=Object(p.useState)([]),t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(p.useEffect)((function(){ct("categories").then((function(e){return e.json()})).then((function(e){e.status?n(e.data.categories):console.log("bad status returned for categories")})).catch((function(e){console.error(e)}))}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Requests"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsxs)(ue.a,{maxWidth:!1,children:[Object(F.jsx)(ra,{}),Object(F.jsx)(C.a,{sx:{pt:3},children:Object(F.jsx)(ca,{categories:a})})]})})]})},oa=function(){var e=Object(p.useState)(""),t=Object(m.a)(e,2),a=t[0],n=t[1],r=Object(p.useState)(null),i=Object(m.a)(r,2),s=i[0],o=i[1],l=Object(c.i)().id;function d(){ct("categories/".concat(l)).then((function(e){return e.json()})).then((function(e){e.status?o(e.data.category):console.log("bad status returned for category")})).catch((function(e){console.error(e)}))}return Object(p.useEffect)((function(){d()}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Category"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsx)(ue.a,{maxWidth:!1,children:Object(F.jsxs)(be.a,{container:!0,spacing:3,children:[Object(F.jsx)(be.a,{item:!0,xs:6,children:Object(F.jsxs)(Mt.a,{style:{padding:30},children:[Object(F.jsx)(ge.a,{color:"textSecondary",gutterBottom:!0,variant:"h2",children:s&&s.name}),s&&Object(F.jsx)(Lt.a,{autoHeight:!0,rows:s.specialties,columns:[{field:"name",headerName:"Name",width:150},{field:"icon",headerName:"Icon",width:150}],checkboxSelection:!0,disableSelectionOnClick:!0})]})}),Object(F.jsx)(be.a,{item:!0,xs:6,children:Object(F.jsx)(Mt.a,{style:{padding:30},children:Object(F.jsx)(jt.a,{initialValues:{name:"",icon:"",category_id:l},validationSchema:dt.b().shape({name:dt.c().max(64).required("Name is required"),icon:dt.c().required("Icon is required")}),onSubmit:function(){var e=Object(nt.a)(at.a.mark((function e(t,r){var i;return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.resetForm,bt.a.post("".concat("https://dev-api.daktarinyumbani.or.tz/api/v1/admin/","specialties"),t,{responseType:"application/json"}).then((function(e){console.log(e),e.status?e.data.status?(i({}),d(),console.log("Log in success.")):(n(e.data.message),console.log(a)):n("Something went wrong. Please try again.")})).catch((function(e){console.error(e),n("Something went wrong. Please try again.")}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,n=e.handleBlur,r=e.handleChange,i=e.handleSubmit,c=e.isSubmitting,s=e.touched,o=e.values;return Object(F.jsxs)("form",{onSubmit:i,children:[Object(F.jsx)(C.a,{sx:{mb:3},children:Object(F.jsx)(ge.a,{color:"textPrimary",variant:"h2",children:"Add Specialties"})}),a&&Object(F.jsx)(C.a,{sx:{mb:3},children:a}),Object(F.jsx)(Pe.a,{error:Boolean(s.name&&t.name),fullWidth:!0,helperText:s.name&&t.name,label:"Name",margin:"normal",name:"name",onBlur:n,onChange:r,type:"text",value:o.name,variant:"outlined"}),Object(F.jsx)(Pe.a,{error:Boolean(s.icon&&t.icon),fullWidth:!0,helperText:s.icon&&t.icon,label:"Icon",margin:"normal",name:"icon",onBlur:n,onChange:r,type:"text",value:o.icon,variant:"outlined"}),Object(F.jsx)(C.a,{sx:{py:2},children:Object(F.jsx)(D.a,{color:"primary",disabled:c,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Create Specialty"})})]})}})})})]})})})]})},la=["requests"],da=function(e){var t=e.requests,a=Object(y.a)(e,la);return Object(F.jsx)(me.a,Object(v.a)(Object(v.a)({},a),{},{children:Object(F.jsx)(Et.a,{children:Object(F.jsx)(C.a,{sx:{minWidth:1050},children:Object(F.jsx)(Lt.a,{autoHeight:!0,rows:t,columns:[{field:"name",headerName:"Patient Name",width:200,valueFormatter:function(e){return"".concat(e.row.user.first_name," ").concat(e.row.user.last_name)}},{field:"service_provider_name",headerName:"Service Provider Name",width:150,valueFormatter:function(e){return"".concat(e.row.service_provider.user.first_name," ").concat(e.row.service_provider.user.last_name)}},{field:"date",headerName:"Date Time",width:150},{field:"requests_count",headerName:"Requests",width:150},{field:"created_at",headerName:"Requested At",width:200}],components:{Toolbar:function(){return Object(F.jsx)(Lt.b,{children:Object(F.jsx)(Lt.c,{})})}}})})})}))},ja=function(e){return Object(F.jsxs)(C.a,Object(v.a)(Object(v.a)({},e),{},{children:[Object(F.jsxs)(C.a,{sx:{display:"flex",justifyContent:"flex-end"},children:[Object(F.jsx)(D.a,{children:"Import"}),Object(F.jsx)(D.a,{sx:{mx:1},children:"Export"})]}),Object(F.jsx)(C.a,{sx:{mt:3},children:Object(F.jsx)(me.a,{children:Object(F.jsx)(Oe.a,{children:Object(F.jsx)(C.a,{sx:{maxWidth:500},children:Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:"Requests"})})})})})]}))},ua=function(){var e=Object(p.useState)([]),t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(p.useEffect)((function(){ct("service-requests/all").then((function(e){return e.json()})).then((function(e){e.status?n(e.data.requests):console.log("bad status returned for requests")})).catch((function(e){console.error(e)}))}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Requests"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsxs)(ue.a,{maxWidth:!1,children:[Object(F.jsx)(ja,{}),Object(F.jsx)(C.a,{sx:{pt:3},children:Object(F.jsx)(da,{requests:a})})]})})]})},ba=function(){return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Requests"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsxs)(ue.a,{maxWidth:!1,children:[Object(F.jsx)(ja,{}),Object(F.jsx)("p",{children:"Inner request view"})]})})]})},ha=a(17),xa=a(403),ma=function(){var e=Object(c.h)(),t=Object(p.useState)(""),a=Object(m.a)(t,2),n=a[0],r=a[1],i=Object(p.useState)([]),s=Object(m.a)(i,2),o=s[0],l=s[1],d=Object(p.useState)([]),j=Object(m.a)(d,2),u=j[0],b=j[1],h=Object(p.useState)(""),x=Object(m.a)(h,2),O=x[0],g=x[1],f=Object(p.useState)(""),y=Object(m.a)(f,2),w=y[0],S=y[1],_=Object(p.useState)([]),B=Object(m.a)(_,2),k=B[0],P=B[1],T=Object(p.useState)({first_name:"",last_name:"",phone:"",password:"000000000",specialty_id:"",qualification:"",reg_number:"",board_status:"",current_hospital:"",latitude:"",longitude:"",address:"",bio:"",cost:0,services:""}),N=Object(m.a)(T,2),q=N[0],W=N[1],A=Object(c.i)().id,z=Object(p.useState)(null),R=Object(m.a)(z,2),E=(R[0],R[1]),L=Object(p.useState)("create"),I=Object(m.a)(L,2),H=I[0],M=I[1],U=function(e){k.includes(e)?P(k.filter((function(t){return t!==e}))):P((function(t){return[].concat(Object(ha.a)(t),[e])}))};Object(p.useEffect)((function(){A&&ct("service-providers/".concat(A)).then((function(e){return e.json()})).then((function(e){if(e.status){E(e.data.provider),M("edit"),g(e.data.provider.address),S({lat:e.data.provider.latitude,lng:e.data.provider.longitude});var t=e.data.provider;t.services.map((function(e){U(e.id)})),W({first_name:t.user.first_name,last_name:t.user.last_name,phone:t.user.phone,specialty_id:t.specialty_id,qualification:t.qualification,reg_number:t.reg_number,board_status:t.board_status,current_hospital:t.current_hospital,latitude:t.latitude,longitude:t.longitude,address:t.address,bio:t.bio,cost:t.cost,services:""})}else console.log("bad status returned for provider")})).catch((function(e){console.error(e)}))}),[A]);var V=function(e){g(e)},J=function(e){g(e),Object(Ut.geocodeByAddress)(e).then((function(e){return Object(Ut.getLatLng)(e[0])})).then((function(e){return S(e)})).catch((function(e){return console.error("Error",e)}))};function G(t){bt.a.post("".concat("https://dev-api.daktarinyumbani.or.tz/api/v1/admin/","service-providers"),t,{responseType:"application/json"}).then((function(t){console.log(t),t.status?t.data.status?(e("/app/service-providers"),console.log("Log in success.")):(r(t.data.message),console.log(n)):r("Something went wrong. Please try again.")})).catch((function(e){console.error(e),r("Something went wrong. Please try again.")}))}function Y(t){bt.a.post("".concat("https://dev-api.daktarinyumbani.or.tz/api/v1/admin/","service-providers/").concat(A),t,{responseType:"application/json"}).then((function(t){console.log(t),t.status?t.data.status?(e("/app/service-providers/".concat(A,"/details")),console.log("Log in success.")):(r(t.data.message),console.log(n)):r("Something went wrong updating details. Please try again.")})).catch((function(e){console.error(e),r("Something went wrong. Please try again.")}))}return Object(p.useEffect)((function(){ct("services").then((function(e){return e.json()})).then((function(e){e.status?l(e.data.services):console.log("bad status returned for services")})).catch((function(e){console.error(e)}))}),[]),Object(p.useEffect)((function(){ct("specialties").then((function(e){return e.json()})).then((function(e){e.status?b(e.data.specialties):console.log("bad status returned for specialties")})).catch((function(e){console.error(e)}))}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Create Service Provider"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsx)(ue.a,{maxWidth:!1,children:Object(F.jsx)(be.a,{container:!0,spacing:3,children:Object(F.jsx)(be.a,{item:!0,xs:12,children:Object(F.jsx)(Mt.a,{style:{padding:30},children:Object(F.jsx)(jt.a,{enableReinitialize:!0,initialValues:q,validationSchema:dt.b().shape({first_name:dt.c().max(64).required("First name is required"),last_name:dt.c().required("Last name is required"),phone:dt.c().required("Phone is required"),specialty_id:dt.c().max(64).required("Specialty is required"),qualification:dt.c().required("Qualification is required"),reg_number:dt.c().max(64).required("Reg. Number is required"),board_status:dt.c().required("Board status is required"),current_hospital:dt.c().max(64).required("Current Hospital is required"),bio:dt.c().required("Bio is required")}),onSubmit:function(){var e=Object(nt.a)(at.a.mark((function e(t){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.address=O,t.latitude=w.lat,t.longitude=w.lng,t.services=k,"edit"===H&&(t._method="PUT"),"edit"===H?Y(t):G(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,a=e.handleBlur,r=e.handleChange,i=e.handleSubmit,c=e.setFieldValue,s=e.isSubmitting,l=e.touched,d=e.values;return Object(F.jsxs)("form",{onSubmit:i,children:[Object(F.jsx)(C.a,{sx:{mb:3},children:Object(F.jsx)(ge.a,{color:"textPrimary",variant:"h3",children:"Register Service Provider"})}),Object(F.jsxs)(be.a,{container:!0,spacing:3,children:[Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsx)(Pe.a,{error:Boolean(l.first_name&&t.first_name),fullWidth:!0,helperText:l.first_name&&t.first_name,label:"First Name",margin:"normal",name:"first_name",onBlur:a,onChange:r,type:"text",value:d.first_name,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsx)(Pe.a,{error:Boolean(l.last_name&&t.last_name),fullWidth:!0,helperText:l.last_name&&t.last_name,label:"Last Name",margin:"normal",name:"last_name",onBlur:a,onChange:r,type:"text",value:d.last_name,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsx)(be.a,{item:!0,paddingTop:2,xs:12,children:Object(F.jsx)(Kt.a,{country:"tz",onlyCountries:["tz"],masks:{tz:"(...) ... - ..."},prefix:"+",countryCodeEditable:!1,value:d.phone,onChange:function(e){console.log(e),c("phone","+".concat(e))}})})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsxs)(Pe.a,{select:!0,error:Boolean(l.specialty_id&&t.specialty_id),fullWidth:!0,helperText:l.specialty_id&&t.specialty_id,label:"Specialty",margin:"normal",name:"specialty_id",onBlur:a,onChange:r,type:"text",value:d.specialty_id,variant:"outlined",children:[Object(F.jsx)(Ae.a,{value:"",children:"Select category"}),u.map((function(e){return Object(F.jsx)(Ae.a,{value:e.id,children:"".concat(e.category.name," - ").concat(e.name)},e.id)}))]})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsx)(Pe.a,{error:Boolean(l.qualification&&t.qualification),fullWidth:!0,helperText:l.qualification&&t.qualification,label:"Qualification",margin:"normal",name:"qualification",onBlur:a,onChange:r,type:"text",value:d.qualification,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsx)(Pe.a,{error:Boolean(l.reg_number&&t.reg_number),fullWidth:!0,helperText:l.reg_number&&t.reg_number,label:"Registration Number",margin:"normal",name:"reg_number",onBlur:a,onChange:r,type:"text",value:d.reg_number,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsxs)(Pe.a,{select:!0,error:Boolean(l.board_status&&t.board_status),fullWidth:!0,helperText:l.board_status&&t.board_status,label:"Board Status",margin:"normal",name:"board_status",onBlur:a,onChange:r,type:"text",value:d.board_status,variant:"outlined",children:[Object(F.jsx)(Ae.a,{value:"registered",children:"Not allowed to practice"}),Object(F.jsx)(Ae.a,{value:"allowed",children:"Allowed to practice"})]})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsx)(Pe.a,{error:Boolean(l.current_hospital&&t.current_hospital),fullWidth:!0,helperText:l.current_hospital&&t.current_hospital,label:"Current Hospital",margin:"normal",name:"current_hospital",onBlur:a,onChange:r,type:"text",value:d.current_hospital,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:4,children:Object(F.jsx)(Pe.a,{error:Boolean(l.cost&&t.cost),fullWidth:!0,helperText:l.cost&&t.cost,label:"Cost",margin:"normal",name:"cost",onBlur:a,onChange:r,type:"text",value:d.cost,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:12,children:Object(F.jsx)(Vt.a,{value:O,onChange:V,onSelect:J,searchOptions:{componentRestrictions:{country:["tza"]}},children:function(e){var t=e.getInputProps,n=e.suggestions,i=e.getSuggestionItemProps,c=e.loading;return Object(F.jsxs)("div",{children:[Object(F.jsx)(Pe.a,Object(v.a)({fullWidth:!0,label:"Search Places...",margin:"normal",name:"location",onBlur:a,onChange:r,type:"text",variant:"outlined"},t())),Object(F.jsxs)("div",{className:"autocomplete-dropdown-container",children:[c&&Object(F.jsx)(ge.a,{variant:"body2",color:"textPrimary",children:"Loading..."}),n.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return Object(F.jsx)("div",Object(v.a)(Object(v.a)({},i(e,{className:t,style:a})),{},{children:Object(F.jsxs)(be.a,{container:!0,alignItems:"center",style:{marginBottom:5,padding:10},children:[Object(F.jsx)(be.a,{item:!0,children:Object(F.jsx)(Gt.a,{style:{marginRight:5}})}),Object(F.jsxs)(be.a,{item:!0,xs:!0,children:[Object(F.jsx)("span",{style:{fontWeight:400},children:Object(F.jsx)(ge.a,{variant:"body1",color:"textPrimary",children:e.formattedSuggestion.mainText})}),Object(F.jsx)(ge.a,{variant:"body2",color:"textSecondary",children:e.description})]})]})}))}))]})]})}})}),Object(F.jsx)(be.a,{item:!0,xs:12,children:Object(F.jsx)(Pe.a,{multiline:!0,rows:2,rowsMax:4,error:Boolean(l.bio&&t.bio),fullWidth:!0,helperText:l.bio&&t.bio,label:"Bio",margin:"bio",name:"bio",onBlur:a,onChange:r,type:"text",value:d.bio,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:12,children:o.map((function(e){if(e.visible)return Object(F.jsx)(xa.a,{label:e.name,control:Object(F.jsx)(Tt.a,{checked:k.includes(e.id),onChange:function(){return U(e.id)},inputProps:{"aria-label":"primary checkbox"}})})}))})]}),n&&Object(F.jsx)(C.a,{sx:{mb:3},children:n}),Object(F.jsx)(C.a,{sx:{py:2},children:Object(F.jsx)(D.a,{color:"primary",disabled:s,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"edit"===H?"Update":"Register"})})]})}})})})})})})]})},Oa=function(e){var t=Object(c.i)().id,a=Object(c.h)(),n=Object(p.useState)(null),r=Object(m.a)(n,2),i=r[0],s=r[1];return Object(p.useEffect)((function(){ct("service-providers/".concat(t)).then((function(e){return e.json()})).then((function(e){e.status?s(e.data.provider):console.log("bad status returned for provider")})).catch((function(e){console.error(e)}))}),[t]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(me.a,Object(v.a)(Object(v.a)({},e),{},{children:Object(F.jsx)(Oe.a,{children:Object(F.jsx)(C.a,{sx:{display:"flex",flexDirection:"column"},children:Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:"Service Provider Details"})})})})),i&&Object(F.jsxs)(me.a,{children:[Object(F.jsx)(Oe.a,{children:Object(F.jsx)(C.a,{sx:{display:"flex",flexDirection:"column"},children:Object(F.jsxs)(ue.a,{maxWidth:!1,children:[Object(F.jsxs)(be.a,{container:!0,spacing:3,children:[Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Name"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h4",children:"".concat(i.user.first_name," ").concat(i.user.last_name)})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Specialty"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h4",children:i.specialty.name})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Registration Number"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h4",children:i.reg_number})]})]}),Object(F.jsxs)(be.a,{container:!0,paddingTop:4,spacing:3,children:[Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Board Status"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:"allowed"===i.board_status?"Allowed to practice":"Not allowed to practice"})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Current Hospital"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:i.current_hospital})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Availability"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:i.available?"Available":"Not Available"})]})]}),Object(F.jsxs)(be.a,{container:!0,paddingTop:4,spacing:3,children:[Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Cost"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:i.cost})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Address"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:i.address})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Bio"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:i.bio})]})]}),Object(F.jsxs)(be.a,{container:!0,paddingTop:4,spacing:3,children:[Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Services"}),i.services&&i.services.length>0&&i.services.map((function(e){return Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:e.name})}))]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Created At"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:"".concat(xe()().format("hh:mm A")," ").concat(i.created_at)})]}),Object(F.jsxs)(be.a,{item:!0,xs:4,children:[Object(F.jsx)(ge.a,{color:"textSecondary",variant:"body1",children:"Phone Number"}),Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h5",children:i.user.phone})]})]})]})})}),Object(F.jsx)(fe.a,{}),Object(F.jsx)(ve.a,{children:Object(F.jsx)(D.a,{onClick:function(){a("/app/service-providers/".concat(t.toString(),"/edit"))},color:"primary",fullWidth:!0,variant:"text",children:"Edit Service Provider Details"})})]})]})},pa=function(e){var t=Object(c.h)();return Object(F.jsx)(C.a,Object(v.a)(Object(v.a)({},e),{},{children:Object(F.jsx)(C.a,{sx:{mt:3},children:Object(F.jsx)(me.a,{children:Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(C.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:"Service Providers"}),Object(F.jsx)(D.a,{color:"primary",variant:"contained",onClick:function(){return t("create")},children:"Add service provider"})]})})})})}))},ga=a(401),fa=a.n(ga),va=a(400),ya=a.n(va),wa=["providers"],Sa=function(e){var t=e.providers,a=Object(y.a)(e,wa),n=Object(c.h)();var r=Object(b.b)(),i=Object(l.a)((function(e){var t;return{root:{padding:e.spacing(.5,.5,0),justifyContent:"space-between",display:"flex",alignItems:"flex-start",flexWrap:"wrap"},textField:(t={},Object(O.a)(t,e.breakpoints.down("xs"),{width:"100%"}),Object(O.a)(t,"margin",e.spacing(1,.5,1.5)),Object(O.a)(t,"& .MuiSvgIcon-root",{marginRight:e.spacing(.5)}),Object(O.a)(t,"& .MuiInput-underline:before",{borderBottom:"1px solid ".concat(e.palette.divider)}),t)}}),{defaultTheme:r}),s=Object(p.useState)(""),o=Object(m.a)(s,2),d=o[0],j=o[1],u=Object(p.useState)(t),h=Object(m.a)(u,2),x=h[0],g=h[1],f=function(e){j(e);var a=new RegExp(e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),n=t.filter((function(e){return Object.keys(e).some((function(t){return a.test(e[t]?e[t].toString():"")}))}));g(n)};return Object(p.useEffect)((function(){g(t)}),[t]),Object(F.jsx)(me.a,Object(v.a)(Object(v.a)({},a),{},{children:Object(F.jsx)(Et.a,{children:Object(F.jsx)(C.a,{sx:{minWidth:1050},children:t&&Object(F.jsx)(Lt.a,{autoHeight:!0,rows:x,columns:[{field:"name",headerName:"Name",width:130,valueFormatter:function(e){return"".concat(e.row.user.first_name," ").concat(e.row.user.last_name)}},{field:"phone",headerName:"Phone",width:150,valueFormatter:function(e){return e.row.user.phone}},{field:"reg_number",headerName:"Registration Number",width:150},{field:"board_status",headerName:"Board status",width:150,valueFormatter:function(e){return"registered"===e.row.board_status?"Not Allowed":"Allowed"}},{field:"current_hospital",headerName:"Current Hospital",width:150},{field:"location",headerName:"Location",width:150,valueFormatter:function(e){return e.row.address}},{field:"category",headerName:"Category",width:150,valueFormatter:function(e){return"".concat(e.row.specialty.category.name," - ").concat(e.row.specialty.name)}},{field:"created_at",headerName:"Created At",width:150},{field:"active",headerName:"Active",width:150,valueFormatter:function(e){return e.row.active?"Yes":"No"}}],onRowClick:function(e){n("".concat(e.row.id.toString(),"/details"))},components:{Toolbar:function(e){var t=i();return Object(F.jsxs)("div",{className:t.root,children:[Object(F.jsxs)("div",{children:[Object(F.jsx)(Lt.d,{}),Object(F.jsx)(Lt.c,{})]}),Object(F.jsx)(Pe.a,{variant:"standard",value:e.value,onChange:e.onChange,className:t.textField,placeholder:"Search\u2026",InputProps:{startAdornment:Object(F.jsx)(ya.a,{fontSize:"small"}),endAdornment:Object(F.jsx)(B.a,{title:"Clear","aria-label":"Clear",size:"small",style:{visibility:e.value?"visible":"hidden"},onClick:e.clearSearch,children:Object(F.jsx)(fa.a,{fontSize:"small"})})}})]})}},componentsProps:{toolbar:{value:d,onChange:function(e){return f(e.target.value)},clearSearch:function(){return f("")}}}})})})}))},Ca=function(){var e=Object(p.useState)([]),t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(p.useEffect)((function(){ct("service-providers").then((function(e){return e.json()})).then((function(e){e.status?n(e.data.providers):console.log("bad status returned for providers")})).catch((function(e){console.error(e)}))}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Service Providers"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsxs)(ue.a,{maxWidth:!1,children:[Object(F.jsx)(pa,{}),Object(F.jsx)(C.a,{sx:{pt:3},children:Object(F.jsx)(Sa,{providers:a})})]})})]})},_a=function(e){return Object(F.jsx)(C.a,Object(v.a)(Object(v.a)({},e),{},{children:Object(F.jsx)(C.a,{sx:{mt:3},children:Object(F.jsx)(me.a,{children:Object(F.jsx)(Oe.a,{children:Object(F.jsx)(C.a,{sx:{maxWidth:500},children:Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:"Services"})})})})})}))},Ba=["services"],ka=function(e){var t=e.services,a=Object(y.a)(e,Ba);return Object(F.jsx)(me.a,Object(v.a)(Object(v.a)({},a),{},{children:Object(F.jsx)(Et.a,{children:Object(F.jsx)(C.a,{sx:{minWidth:1050},children:Object(F.jsx)(Lt.a,{autoHeight:!0,rows:t,columns:[{field:"name",headerName:"Name",width:150}],checkboxSelection:!0,disableSelectionOnClick:!0,components:{Toolbar:function(){return Object(F.jsx)(Lt.b,{children:Object(F.jsx)(Lt.c,{})})}}})})})}))},Pa=function(){var e=Object(p.useState)([]),t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(p.useEffect)((function(){ct("services").then((function(e){return e.json()})).then((function(e){e.status?n(e.data.services):console.log("bad status returned for services")})).catch((function(e){console.error(e)}))}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Requests"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsxs)(ue.a,{maxWidth:!1,children:[Object(F.jsx)(_a,{}),Object(F.jsx)(C.a,{sx:{pt:3},children:Object(F.jsx)(ka,{services:a})})]})})]})},Ta=function(e){var t=Object(c.h)();return Object(F.jsx)(C.a,Object(v.a)(Object(v.a)({},e),{},{children:Object(F.jsx)(C.a,{sx:{mt:3},children:Object(F.jsx)(me.a,{children:Object(F.jsx)(Oe.a,{children:Object(F.jsxs)(C.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(F.jsx)(ge.a,{color:"textPrimary",gutterBottom:!0,variant:"h3",children:"Users"}),Object(F.jsx)(D.a,{color:"primary",variant:"contained",onClick:function(){return t("create")},children:"Create Admin User"})]})})})})}))},Na=["users"],qa=function(e){var t=e.users,a=Object(y.a)(e,Na);return Object(F.jsx)(me.a,Object(v.a)(Object(v.a)({},a),{},{children:Object(F.jsx)(Et.a,{children:Object(F.jsx)(C.a,{sx:{minWidth:1050},children:Object(F.jsx)(Lt.a,{autoHeight:!0,rows:t,columns:[{field:"name",headerName:"Name",width:200,valueFormatter:function(e){return"".concat(e.row.first_name," ").concat(e.row.last_name)}},{field:"phone",headerName:"Phone",width:150},{field:"location",headerName:"Location",width:150,valueFormatter:function(e){return e.row.location?e.row.location.address:""}},{field:"requests_count",headerName:"Requests",width:150},{field:"created_at",headerName:"Created At",width:200},{field:"active",headerName:"Active",width:150,valueFormatter:function(e){return e.row.active?"Yes":"No"}}],components:{Toolbar:function(){return Object(F.jsx)(Lt.b,{children:Object(F.jsx)(Lt.c,{})})}}})})})}))},Wa=function(){var e=Object(p.useState)([]),t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(p.useEffect)((function(){ct("users/all").then((function(e){return e.json()})).then((function(e){e.status?n(e.data.users):console.log("bad status returned for users")})).catch((function(e){console.error(e)}))}),[]),Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Users"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsxs)(ue.a,{maxWidth:!1,children:[Object(F.jsx)(Ta,{}),Object(F.jsx)(C.a,{sx:{pt:3},children:Object(F.jsx)(qa,{users:a})})]})})]})},Aa=function(){var e=Object(c.h)(),t=Object(p.useState)(""),a=Object(m.a)(t,2),n=a[0],r=a[1];function i(t){bt.a.post("".concat("https://dev-api.daktarinyumbani.or.tz/api/v1/admin/","users/create-admin"),t,{responseType:"application/json"}).then((function(t){console.log(t),t.status?t.data.status?e("/app/users"):(r(t.data.message),console.log(n)):r("Something went wrong. Please try again.")})).catch((function(e){console.error(e),r("Something went wrong. Please try again.")}))}return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(je.a,{children:Object(F.jsx)("title",{children:"Create Admin"})}),Object(F.jsx)(C.a,{sx:{backgroundColor:"background.default",minHeight:"100%",py:3},children:Object(F.jsx)(ue.a,{maxWidth:!1,children:Object(F.jsx)(be.a,{container:!0,spacing:3,children:Object(F.jsx)(be.a,{item:!0,xs:12,children:Object(F.jsx)(Mt.a,{style:{padding:30},children:Object(F.jsx)(jt.a,{enableReinitialize:!0,initialValues:{first_name:"",last_name:"",email:"",phone:"",password:""},validationSchema:dt.b().shape({first_name:dt.c().max(64).required("First name is required"),last_name:dt.c().required("Last name is required"),phone:dt.c().required("Phone is required"),email:dt.c().email("Must be a valid email").max(255).required("Email is required"),password:dt.c().required("Password is required")}),onSubmit:function(){var e=Object(nt.a)(at.a.mark((function e(t){return at.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("subnmit"),i(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var t=e.errors,a=e.handleBlur,r=e.handleChange,i=e.handleSubmit,c=e.setFieldValue,s=e.isSubmitting,o=e.touched,l=e.values;return Object(F.jsxs)("form",{onSubmit:i,children:[Object(F.jsx)(C.a,{sx:{mb:3},children:Object(F.jsx)(ge.a,{color:"textPrimary",variant:"h3",children:"Register Service Provider"})}),Object(F.jsxs)(be.a,{container:!0,spacing:3,children:[Object(F.jsx)(be.a,{item:!0,xs:6,children:Object(F.jsx)(Pe.a,{error:Boolean(o.first_name&&t.first_name),fullWidth:!0,helperText:o.first_name&&t.first_name,label:"First Name",margin:"normal",name:"first_name",onBlur:a,onChange:r,type:"text",value:l.first_name,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:6,children:Object(F.jsx)(Pe.a,{error:Boolean(o.last_name&&t.last_name),fullWidth:!0,helperText:o.last_name&&t.last_name,label:"Last Name",margin:"normal",name:"last_name",onBlur:a,onChange:r,type:"text",value:l.last_name,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:6,children:Object(F.jsx)(Pe.a,{error:Boolean(o.email&&t.email),fullWidth:!0,helperText:o.email&&t.email,label:"Email",margin:"normal",name:"email",onBlur:a,onChange:r,type:"email",value:l.email,variant:"outlined"})}),Object(F.jsx)(be.a,{item:!0,xs:6,children:Object(F.jsx)(be.a,{item:!0,paddingTop:2,xs:12,children:Object(F.jsx)(Kt.a,{country:"tz",onlyCountries:["tz"],masks:{tz:"(...) ... - ..."},prefix:"+",countryCodeEditable:!1,value:l.phone,onChange:function(e){console.log(e),c("phone","+".concat(e))}})})}),Object(F.jsx)(be.a,{item:!0,xs:6,children:Object(F.jsx)(Pe.a,{error:Boolean(o.password&&t.password),fullWidth:!0,helperText:o.password&&t.password,label:"Password",margin:"normal",name:"password",onBlur:a,onChange:r,type:"password",value:l.password,variant:"outlined"})}),n&&Object(F.jsx)(C.a,{sx:{mb:3},children:n})]}),Object(F.jsx)(C.a,{sx:{py:2},children:Object(F.jsx)(D.a,{color:"primary",disabled:s,fullWidth:!0,size:"large",type:"submit",variant:"contained",children:"Register"})})]})}})})})})})})]})},Fa=function(e,t,a,n){return[{path:"app",element:e?Object(F.jsx)(re,{}):Object(F.jsx)(c.a,{to:"/login"}),children:[{path:"dashboard",element:Object(F.jsx)(lt,{})},{path:"service-providers",children:[{path:"/",element:Object(F.jsx)(Ca,{})},{path:"/create",element:Object(F.jsx)(ma,{})},{path:"/:id/details",element:Object(F.jsx)(Oa,{})},{path:"/:id/edit",element:Object(F.jsx)(ma,{})}]},{path:"ambulances",children:[{path:"/",element:Object(F.jsx)(Ht,{})},{path:"/create",element:Object(F.jsx)(Qt,{})},{path:"/:id/details",element:Object(F.jsx)($t,{})},{path:"/:id/edit",element:Object(F.jsx)(Qt,{})}]},{path:"businesses",children:[{path:"/",element:Object(F.jsx)(ta,{})},{path:"/create",element:Object(F.jsx)(aa,{})},{path:"/:id/details",element:Object(F.jsx)(na,{})},{path:"/:id/edit",element:Object(F.jsx)(aa,{})}]},{path:"requests",children:[{path:"/",element:Object(F.jsx)(ua,{})},{path:"/:id",element:Object(F.jsx)(ba,{})}]},{path:"categories",children:[{path:"/",element:Object(F.jsx)(sa,{})},{path:"/:id",element:Object(F.jsx)(oa,{})}]},{path:"services",children:[{path:"/",element:Object(F.jsx)(Pa,{})}]},{path:"users",children:[{path:"/",element:Object(F.jsx)(Wa,{})},{path:"/create",element:Object(F.jsx)(Aa,{})}]},{path:"account",element:Object(F.jsx)(qe,{})},{path:"products",element:Object(F.jsx)(Pt,{})},{path:"settings",element:Object(F.jsx)(Ft,{})},{path:"*",element:Object(F.jsx)(c.a,{to:"/404"})}]},{path:"/",element:e?Object(F.jsx)(c.a,{to:"/app/dashboard"}):Object(F.jsx)(de,{}),children:[{path:"login",element:Object(F.jsx)(ht,{setToken:t,setUser:n})},{path:"register",element:Object(F.jsx)(Wt,{})},{path:"404",element:Object(F.jsx)(xt,{})},{path:"/",element:Object(F.jsx)(c.a,{to:"/app/dashboard"})},{path:"*",element:Object(F.jsx)(c.a,{to:"/404"})}]}]};var za=function(){var e=Object(p.useState)(void 0),t=Object(m.a)(e,2),a=t[0],n=t[1],r=Object(p.useState)(void 0),i=Object(m.a)(r,2),c=i[0],s=i[1],o=window.localStorage.getItem("token"),l=JSON.parse(o);return Object(p.useEffect)((function(){return function(){var e=bt.a.interceptors.request.use((function(e){return l?e.headers.hasOwnProperty("Authorization")?e.headers.Authorization||delete e.headers.Authorization:e.headers.Authorization="Bearer "+l.token.plainTextToken:console.log("no token"),e}),(function(e){return Promise.reject(e)}));s(e)}(),function(){var e=bt.a.interceptors.response.use((function(e){return e}),(function(e){if(e.response){var t=e.response.status;401===t||403===t||e.message&&e.message}return Promise.reject(e)}));n(e)}(),function(){bt.a.interceptors.request.eject(c),s(void 0),bt.a.interceptors.request.eject(a),n(void 0)}}),[]),Object(F.jsx)(g.a.Fragment,{})},Ra=function(){var e=function(){var e=Object(p.useState)(function(){var e=localStorage.getItem("token"),t=JSON.parse(e);return t?t.token:null}()),t=Object(m.a)(e,2),a=t[0],n=t[1];return{setToken:function(e){console.log("Setting the token here"),console.log(e),localStorage.setItem("token",JSON.stringify(e)),n(e.token.plainTextToken)},token:a}}(),t=e.token,a=e.setToken,n=function(){var e=Object(p.useState)(function(){var e=localStorage.getItem("user");return JSON.parse(e)}()),t=Object(m.a)(e,2),a=t[0],n=t[1];return{setSettings:function(e){localStorage.setItem("user",JSON.stringify(e)),n(e)},settings:a}}(),r=n.settings,i=n.setSettings,o=Object(c.k)(Fa(t,a,r,i));return Object(F.jsxs)(s.a,{theme:x,children:[Object(F.jsx)(za,{}),Object(F.jsx)(j,{}),o]})};r.a.render(Object(F.jsx)(i.a,{children:Object(F.jsx)(Ra,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[552,1,2]]]);
//# sourceMappingURL=main.6f5f86ac.chunk.js.map